{"version":3,"sources":["assets/CommonScript/FPSLabel.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEhF,IAAA,KAA0D,EAAE,CAAC,UAAU,EAAtE,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,gBAAgB,sBAAA,EAAE,gBAAgB,sBAAiB,CAAC;AAK9E;IAAsC,4BAAY;IAAlD;QAAA,qEAkCC;QAhCG,YAAM,GAAW,CAAC,CAAC;QACnB,UAAI,GAAW,CAAC,CAAC;QACjB,WAAK,GAAW,CAAC,CAAC;;IA8BtB,CAAC;iBAlCoB,QAAQ;IAYzB,yBAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC;QACvC,yCAAyC;QAEzC,UAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACnF,oGAAoG;QACpG,4FAA4F;QAE5F,kCAAkC;QAClC,kCAAkC;QAClC,qDAAqD;QACrD,mCAAmC;QACnC,yCAAyC;QACzC,qBAAqB;QACrB,+BAA+B;QAC/B,iFAAiF;QACjF,yEAAyE;QACzE,2BAA2B;QAC3B,4BAA4B;QAC5B,QAAQ;QACR,WAAW;IACf,CAAC;;IA3Ba,oBAAW,GAAa,IAAI,CAAC;IAE7B,2BAAkB,GAAa,IAAI,CAAC;IAEpC,uBAAc,GAAa,IAAI,CAAC;IAV7B,QAAQ;QAH5B,OAAO;QACP,gBAAgB,CAAC,EAAE,CAAC,KAAK,CAAC;QAC1B,gBAAgB;OACI,QAAQ,CAkC5B;IAAD,eAAC;CAlCD,AAkCC,CAlCqC,EAAE,CAAC,SAAS,GAkCjD;kBAlCoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property, requireComponent, disallowMultiple} = cc._decorator;\n\n@ccclass\n@requireComponent(cc.Label)\n@disallowMultiple\nexport default class FPSLabel extends cc.Component {\n\n    _total: number = 0;\n    _fps: number = 0;\n    _time: number = 0;\n\n    public static loadTimeLab: cc.Label = null;\n\n    public static preloadProgressLab: cc.Label = null;\n\n    public static preloadTimeLab: cc.Label = null;\n\n    onLoad () {\n        this.node.zIndex = cc.macro.MAX_ZINDEX;\n        // cc.game.addPersistRootNode(this.node);\n\n        FPSLabel.loadTimeLab = this.node.getChildByName(\"loadTime\").getComponent(cc.Label);\n        // FPSLabel.preloadProgressLab = this.node.getChildByName(\"preloadProgress\").getComponent(cc.Label);\n        // FPSLabel.preloadTimeLab = this.node.getChildByName(\"preloadTime\").getComponent(cc.Label);\n\n        // cc.debug.setDisplayStats(true);\n        // this._time = performance.now();\n        // cc.director.on(cc.Director.EVENT_AFTER_DRAW, ()=>{\n        //     var now = performance.now();\n        //     var deletaTime = now - this._time;\n        //     this._total++;\n        //     if (deletaTime >= 500) {\n        //         this._fps = Math.floor((1000 * this._total / deletaTime) * 100) / 100;\n        //         this.node.getComponent(cc.Label).string = \"fps: \" + this._fps;\n        //         this._total = 0;\n        //         this._time = now;\n        //     }\n        // }, this)\n    }\n}\n"]}