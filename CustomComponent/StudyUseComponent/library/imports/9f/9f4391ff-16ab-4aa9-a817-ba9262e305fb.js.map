{"version":3,"sources":["assets/script/NodePropertyStudy.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\nimport CustomSprite from \"./CustomSprite\";\n\nconst user = {\n    name: \"张三\",\n    age: 25,\n    isActive: true\n};\n\ntype UserKeys = keyof typeof user;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.SpriteFrame)\n    cocosSpf: cc.SpriteFrame = null;\n\n    _cocos: cc.Node = null;\n\n    onLoad () {\n        // 教学示例：学习节点属性的使用场景\n        // 可以取消注释下面的函数来测试不同的场景\n        \n        this.createNodeAndControl();      // 场景1：创建和管理节点\n        // this.eventListenerUsage();      // 场景2：节点事件监听\n        // this.demo3_ScaleAnimation();            // 场景3：缩放动画\n        // this.demo4_ColorAndOpacity();           // 场景4：颜色和透明度\n        // this.demo5_FindAndValidateNodes();      // 场景5：查找和验证节点\n        // this.demo6_ManageChildren();            // 场景6：管理子节点\n        // this.demo7_LayerManagement();           // 场景7：层级管理\n        // this.demo8_NodeSizeAndAnchor();         // 场景8：节点尺寸和锚点\n    }\n\n    /**\n     * 场景1：创建和管理节点\n     * 学习属性：name, active, addChild, destroy, destroyAllChildren, parent\n     */\n    createNodeAndControl() {\n        // 创建一个新的节点并设置名称\n        let childNode = new cc.Node(\"Enemy_001\");\n        let spComp = childNode.addComponent(cc.Sprite);\n        if (this.cocosSpf) {\n            spComp.spriteFrame = this.cocosSpf;\n        }\n        \n        // 将子节点添加到当前节点\n        this.node.addChild(childNode);\n        // childNode.parent = this.node;\n\n        this._cocos = childNode;\n        \n        // 检查节点与父节点\n        console.log(\"新建的节点:\", childNode);\n        console.log(\"从节点树中找到新建的节点\", cc.find(\"Canvas/Enemy_001\"));\n        console.log(\"从父节点的节点树中找到新建的节点\", cc.find(\"Enemy_001\", this.node));\n        console.log(\"子节点的父节点:\", childNode.parent);\n        console.log(\"当前节点的子节点数量:\", childNode.parent.childrenCount);\n        console.log(\"所有子节点数组:\", childNode.parent.children);\n        \n        // 延迟1秒后关闭节点\n        // this.scheduleOnce(() => {\n        //     childNode.active = false;\n        // }, 1);\n\n        // 延迟1秒后隐藏节点\n        // this.scheduleOnce(() => {\n        //     childNode.opacity = 0;\n        // }, 1);\n\n        // 延迟1秒后修改节点坐标\n        // this.scheduleOnce(() => {\n        //     // childNode.position = cc.v3(100, 100, 0);\n        //     childNode.x = 100;\n        //     childNode.y = 100;\n        // }, 1);\n\n        // 延迟1秒后修改节点角度\n        // this.schedule(() => {\n        //     childNode.angle -= 1;\n        // }, 0.01);\n\n        // 延迟1秒后修改节点缩放\n        // this.scheduleOnce(() => {\n        //     childNode.scale = 2.0;\n        //     childNode.scaleX = 2.0;\n        //     childNode.scaleY = 2.0;\n        // }, 1);\n\n        // 延迟1秒后修改节点颜色\n        // this.scheduleOnce(() => {\n        //     childNode.color = cc.Color.RED;\n        //     // childNode.color = new cc.Color();\n        // }, 1);\n\n        // 延迟1秒后销毁子节点\n        // this.scheduleOnce(() => {\n        //     this.node.getChildByName(\"Enemy_001\").destroy()  // 销毁子节点\n        // }, 1);\n\n        // 延迟1秒后从节点树移除子节点，但保留节点对象数据\n        // this.scheduleOnce(() => {\n        //     this.node.removeChild(childNode);  // 移除子节点\n        // }, 1);\n        \n        // 延迟1秒后销毁所有子节点\n        // this.scheduleOnce(() => {\n        //     this.node.destroyAllChildren();  // 销毁所有子节点\n        // }, 1);\n\n        // 延迟1秒后修改节点的渲染层级或节点层级\n        // this.scheduleOnce(()=>{\n        //     // this.node.getChildByName(\"testNode\").zIndex = cc.macro.MAX_ZINDEX;\n        //     // childNode.zIndex = -1;\n        //     console.log(childNode.getSiblingIndex());\n        //     childNode.setSiblingIndex(1000);\n        // }, 3)\n\n        // 延迟1秒后修改节点尺寸\n        // this.scheduleOnce(() => {\n        //     let testNode = this.node.getChildByName(\"testNode\");\n        //     if (testNode) {\n        //         // testNode.width = 300;\n        //         // testNode.height = 120;\n        //         // testNode.setContentSize(300, 120);\n        //         let newSize = new cc.Size(300, 120);\n        //         testNode.setContentSize(newSize);\n        //         console.log('修改后的尺寸:', testNode.width, testNode.height);\n        //     }\n        // }, 1);\n\n        // 延迟1秒后修改节点锚点\n        // this.scheduleOnce(() => {\n        //     let testNode = this.node.getChildByName(\"testNode\");\n        //     if (testNode) {\n        //         testNode.anchorX = 1;\n        //         testNode.anchorY = 0;\n        //         // testNode.setAnchorPoint(1, 0);\n        //         console.log('修改后的锚点:', testNode.anchorX, testNode.anchorY);\n        //     }\n        // }, 1);\n\n        // 延迟1秒后修改节点分组\n        // this.scheduleOnce(() => {\n        //     let testNode = this.node.getChildByName(\"testNode\");\n        //     if (testNode) {\n        //         //@ts-ignore\n        //         testNode.group = cc.game.groupList[1];  // 修改分组名为 other\n        //         console.log('修改后的分组:', testNode.group);\n        //     }\n        // }, 1);\n    }\n\n    /**\n     * 事件回调函数，演示节点触摸结束事件\n     */\n    onTouchHandler(event) {\n        cc.log(\"节点触发了 TOUCH_END 事件\", event);\n    }\n\n    /**\n     * 示例：监听、移除和批量移除节点事件的用法\n     */\n    eventListenerUsage() {\n        // 1. 使用 this.node.on 监听节点事件\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchHandler, this);\n\n        // 延迟2秒后移除指定的事件监听器\n        this.scheduleOnce(() => {\n            // 2. 使用 this.node.off 移除指定的监听器\n            cc.log(\"移除 onTouchHandler 监听器\");\n            this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchHandler, this);\n        }, 2);\n\n        // 再次添加多个事件监听器\n        const cb1 = function(evt) { cc.log(\"cb1\"); };\n        const cb2 = function(evt) { cc.log(\"cb2\"); };\n        this.node.on(cc.Node.EventType.TOUCH_START, cb1, this);\n        this.node.on(cc.Node.EventType.TOUCH_END, cb2, this);\n\n        // 延迟4秒后批量移除所有以 `this` 为 target 的事件监听\n        this.scheduleOnce(() => {\n            // 3. 使用 this.node.targetOff(this) 一次性移除\n            cc.log(\"批量移除所有以 this 为 target 的事件监听器\");\n            this.node.targetOff(this);\n        }, 4);\n    }\n\n\n    // update (dt) {}\n}\n"]}