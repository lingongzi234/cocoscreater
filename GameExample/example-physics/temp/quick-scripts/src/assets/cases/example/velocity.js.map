{"version":3,"sources":["assets/cases/example/velocity.js"],"names":["cc","Class","Component","properties","tmpNode","type","Node","label","Label","autoAllocTime","onLoad","allocedNodes","time","find","on","EventType","TOUCH_START","onTouchStart","allocNode","node","instantiate","parent","active","body","getComponent","RigidBody","string","stop","update","dt"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,OAAO,EAAE;MACL,WAAS,IADJ;MAELC,IAAI,EAAEL,EAAE,CAACM;IAFJ,CADD;IAKRC,KAAK,EAAE;MACH,WAAS,IADN;MAEHF,IAAI,EAAEL,EAAE,CAACQ;IAFN,CALC;IASRC,aAAa,EAAE;EATP,CAHP;EAeL;EACAC,MAAM,EAAE,kBAAY;IAChB,KAAKC,YAAL,GAAoB,CAApB;IACA,KAAKC,IAAL,GAAY,CAAZ;IAEAZ,EAAE,CAACa,IAAH,CAAQ,QAAR,EAAkBC,EAAlB,CAAqBd,EAAE,CAACM,IAAH,CAAQS,SAAR,CAAkBC,WAAvC,EAAoD,KAAKC,YAAzD,EAAuE,IAAvE;EACH,CArBI;EAuBLC,SAAS,EAAE,qBAAY;IACnB,IAAI,CAAC,KAAKC,IAAV,EAAgB;IAEhB,IAAIA,IAAI,GAAGnB,EAAE,CAACoB,WAAH,CAAe,KAAKhB,OAApB,CAAX;IACAe,IAAI,CAACE,MAAL,GAAc,KAAKF,IAAnB;IACAA,IAAI,CAACG,MAAL,GAAc,IAAd;IAEA,IAAIC,IAAI,GAAGJ,IAAI,CAACK,YAAL,CAAkBxB,EAAE,CAACyB,SAArB,CAAX;IAEA,KAAKd,YAAL;;IAEA,IAAI,KAAKJ,KAAT,EAAgB;MACZ,KAAKA,KAAL,CAAWmB,MAAX,GAAoB,aAAa,KAAKf,YAAtC;IACH;EACJ,CArCI;EAuCLM,YAAY,EAAE,wBAAY;IACtB;IACA,KAAKU,IAAL,GAAY,CAAC,KAAKA,IAAlB;EACH,CA1CI;EA4CL;EACAC,MAAM,EAAE,gBAAUC,EAAV,EAAc;IAClB,IAAI,KAAKF,IAAT,EAAe;IAEf,KAAKf,IAAL,IAAaiB,EAAb;IACA,IAAI,KAAKjB,IAAL,GAAY,KAAKH,aAArB,EAAoC;IAEpC,KAAKG,IAAL,GAAY,CAAZ;IACA,KAAKM,SAAL;EACH;AArDI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tmpNode: {\n            default: null,\n            type: cc.Node\n        },\n        label: {\n            default: null,\n            type: cc.Label\n        },\n        autoAllocTime: 0.5\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.allocedNodes = 0;\n        this.time = 0;\n        \n        cc.find('Canvas').on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\n    },\n\n    allocNode: function () {\n        if (!this.node) return;\n\n        var node = cc.instantiate(this.tmpNode);\n        node.parent = this.node;\n        node.active = true;\n\n        var body = node.getComponent(cc.RigidBody);\n\n        this.allocedNodes ++;\n        \n        if (this.label) {\n            this.label.string = 'Nodes : ' + this.allocedNodes;\n        }\n    },\n\n    onTouchStart: function () {\n        // this.allocNode();\n        this.stop = !this.stop;\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        if (this.stop) return;\n        \n        this.time += dt;\n        if (this.time < this.autoAllocTime) return;\n\n        this.time = 0;\n        this.allocNode();\n    },\n});\n"]}