{"version":3,"sources":["assets/start-scene/scripts/Global/TipsManager.js"],"names":["i18n","require","PlatformType","cc","Enum","Node","Native","Native_Desktop","Mobile","Mobile_Android","Runtime","WebGl","Canvas","Native_Browser_Chrome","canvas","Class","Component","properties","support","platform","type","onLoad","_showTips","_checkNonSupport","showed","textKey","sys","isNative","WIN32","MACOS","t","isMobile","runtime","_renderType","game","RENDER_TYPE_CANVAS","_checkSupport","RENDER_TYPE_WEBGL","ANDROID","isBrowser","browserType","BROWSER_TYPE_CHROME","info","bg","node","getComponent","Sprite","enabled","content","getChildByName","Label"],"mappings":"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","sourceRoot":"/","sourcesContent":["//\n// 用于提示用户哪些范例不支持平台\n//\nconst i18n = require('i18n');\n\n// 平台检查\nvar PlatformType = cc.Enum({\n    Node: 0,\n    Native: 1,\n    Native_Desktop: 2,\n\n    Mobile: 10,\n    Mobile_Android: 11,\n\n    Runtime: 20,\n\n    WebGl: 30,\n    Canvas: 31,\n\n    Native_Browser_Chrome: 100\n});\n\nvar canvas = null;\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        support: false,\n        // 需要检测的平台\n        platform: {\n            default: PlatformType.Node,\n            type: PlatformType\n        }\n    },\n\n    onLoad () {\n        this._showTips();\n    },\n\n    _checkNonSupport () {\n        var showed = false, textKey = '';\n        switch (this.platform) {\n            case PlatformType.Native_Desktop:\n                showed = (cc.sys.isNative && (cc.sys.platform === cc.sys.WIN32 ||\n                          cc.sys.platform === cc.sys.MACOS));\n                textKey = i18n.t(\"example_case_nonsupport_native_desktop_tips\");\n                break;\n            case PlatformType.Mobile:\n                showed = cc.sys.isMobile;\n                textKey = i18n.t(\"example_case_nonsupport_mobile_tips\");\n                break;\n            case PlatformType.Runtime:\n                showed = cc.runtime;\n                textKey = i18n.t(\"example_case_nonsupport_runtime_tips\");\n                break;\n            case PlatformType.Canvas:\n                showed = cc._renderType === cc.game.RENDER_TYPE_CANVAS;\n                textKey = i18n.t(\"example_case_nonsupport_web_canvas_tips\");\n                break;\n        }\n        return {\n            showed: showed,\n            textKey: textKey\n        }\n    },\n\n    _checkSupport () {\n        var showed = false, textKey = '';\n        switch (this.platform) {\n            case PlatformType.Mobile:\n                showed = !cc.sys.isMobile || cc.runtime;\n                textKey = i18n.t(\"example_case_support_mobile_tips\");\n                break;\n            case PlatformType.WebGl:\n                showed = cc._renderType !== cc.game.RENDER_TYPE_WEBGL;\n                textKey = i18n.t(\"example_case_support_webGl_tips\");\n                break;\n            case PlatformType.Mobile_Android:\n                showed = !(cc.sys.isMobile && cc.sys.platform === cc.sys.ANDROID) || cc.runtime;\n                textKey = i18n.t(\"example_case_support_mobile_android_tips\");\n                break;\n            case PlatformType.Native_Browser_Chrome:\n                showed = !(!cc.sys.isMobile &&\n                            cc.sys.isBrowser &&\n                            cc.sys.browserType === cc.sys.BROWSER_TYPE_CHROME);\n                textKey = i18n.t(\"example_case_support_native_chrome_tips\");\n                break;\n        }\n        return {\n            showed: showed,\n            textKey: textKey\n        }\n    },\n\n    _showTips () {\n        if (this.type === PlatformType.Node) { return; }\n        var info = this.support ? this._checkSupport() : this._checkNonSupport();\n        var bg = this.node.getComponent(cc.Sprite);\n        bg.enabled = info.showed;\n        if (info.showed) {\n            var content = this.node.getChildByName('Content').getComponent(cc.Label);\n            content.textKey = info.textKey;\n        }\n    }\n});\n"]}