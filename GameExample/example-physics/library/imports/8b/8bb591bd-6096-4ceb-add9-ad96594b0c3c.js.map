{"version":3,"sources":["assets/cases/utils/physics-bound.js"],"names":["cc","Class","Component","properties","size","mouseJoint","onLoad","width","node","height","Node","body","addComponent","RigidBody","type","RigidBodyType","Static","joint","MouseJoint","mouseRegion","_addBound","parent","x","y","collider","PhysicsBoxCollider","offset"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,IAAI,EAAEJ,EAAE,CAACI,IAAH,CAAQ,CAAR,EAAW,CAAX,CADE;IAERC,UAAU,EAAE;EAFJ,CAHP;EAQL;EACAC,MAAM,EAAE,kBAAY;IAChB,IAAIC,KAAK,GAAK,KAAKH,IAAL,CAAUG,KAAV,IAAmB,KAAKC,IAAL,CAAUD,KAA3C;IACA,IAAIE,MAAM,GAAI,KAAKL,IAAL,CAAUK,MAAV,IAAoB,KAAKD,IAAL,CAAUC,MAA5C;IAEA,IAAID,IAAI,GAAG,IAAIR,EAAE,CAACU,IAAP,EAAX;IAEA,IAAIC,IAAI,GAAGH,IAAI,CAACI,YAAL,CAAkBZ,EAAE,CAACa,SAArB,CAAX;IACAF,IAAI,CAACG,IAAL,GAAYd,EAAE,CAACe,aAAH,CAAiBC,MAA7B;;IAEA,IAAI,KAAKX,UAAT,EAAqB;MACjB;MACA,IAAIY,KAAK,GAAGT,IAAI,CAACI,YAAL,CAAkBZ,EAAE,CAACkB,UAArB,CAAZ;MACAD,KAAK,CAACE,WAAN,GAAoB,KAAKX,IAAzB;IACH;;IAED,KAAKY,SAAL,CAAeZ,IAAf,EAAqB,CAArB,EAAwBC,MAAM,GAAC,CAA/B,EAAkCF,KAAlC,EAAyC,EAAzC;;IACA,KAAKa,SAAL,CAAeZ,IAAf,EAAqB,CAArB,EAAwB,CAACC,MAAD,GAAQ,CAAhC,EAAmCF,KAAnC,EAA0C,EAA1C;;IACA,KAAKa,SAAL,CAAeZ,IAAf,EAAqB,CAACD,KAAD,GAAO,CAA5B,EAA+B,CAA/B,EAAkC,EAAlC,EAAsCE,MAAtC;;IACA,KAAKW,SAAL,CAAeZ,IAAf,EAAqBD,KAAK,GAAC,CAA3B,EAA8B,CAA9B,EAAiC,EAAjC,EAAqCE,MAArC;;IAEAD,IAAI,CAACa,MAAL,GAAc,KAAKb,IAAnB;EACH,CA9BI;EAgCLY,SAhCK,qBAgCMZ,IAhCN,EAgCYc,CAhCZ,EAgCeC,CAhCf,EAgCkBhB,KAhClB,EAgCyBE,MAhCzB,EAgCiC;IAClC,IAAIe,QAAQ,GAAGhB,IAAI,CAACI,YAAL,CAAkBZ,EAAE,CAACyB,kBAArB,CAAf;IACAD,QAAQ,CAACE,MAAT,CAAgBJ,CAAhB,GAAoBA,CAApB;IACAE,QAAQ,CAACE,MAAT,CAAgBH,CAAhB,GAAoBA,CAApB;IACAC,QAAQ,CAACpB,IAAT,CAAcG,KAAd,GAAsBA,KAAtB;IACAiB,QAAQ,CAACpB,IAAT,CAAcK,MAAd,GAAuBA,MAAvB;EACH;AAtCI,CAAT","sourceRoot":"/","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        size: cc.size(0, 0),\n        mouseJoint: true\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        let width   = this.size.width || this.node.width;\n        let height  = this.size.height || this.node.height;\n\n        let node = new cc.Node();\n\n        let body = node.addComponent(cc.RigidBody);\n        body.type = cc.RigidBodyType.Static;\n\n        if (this.mouseJoint) {\n            // add mouse joint\n            let joint = node.addComponent(cc.MouseJoint);\n            joint.mouseRegion = this.node;    \n        }\n        \n        this._addBound(node, 0, height/2, width, 20);\n        this._addBound(node, 0, -height/2, width, 20);\n        this._addBound(node, -width/2, 0, 20, height);\n        this._addBound(node, width/2, 0, 20, height);\n\n        node.parent = this.node;\n    },\n\n    _addBound (node, x, y, width, height) {\n        let collider = node.addComponent(cc.PhysicsBoxCollider);\n        collider.offset.x = x;\n        collider.offset.y = y;\n        collider.size.width = width;\n        collider.size.height = height;\n    }\n});\n"]}