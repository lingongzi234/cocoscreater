{"version":3,"sources":["assets/cases/demo/manifold.js"],"names":["cc","Class","Component","properties","pointTemp","type","Node","onPreSolve","contact","worldManifold","getWorldManifold","points","scene","director","getScene","removeSelf","parent","i","length","p","node","instantiate","active","fadeOut","remove","callFunc","action","sequence","runAction","x","y"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,SAAS,EAAE;MACPC,IAAI,EAAEL,EAAE,CAACM,IADF;MAEP,WAAS;IAFF;EADH,CAHP;EAULC,UAAU,EAAE,oBAAUC,OAAV,EAAmB;IAC3B,IAAIC,aAAa,GAAGD,OAAO,CAACE,gBAAR,EAApB;IACA,IAAIC,MAAM,GAAGF,aAAa,CAACE,MAA3B;IACA,IAAIC,KAAK,GAAGZ,EAAE,CAACa,QAAH,CAAYC,QAAZ,EAAZ;;IAEA,SAASC,UAAT,GAAuB;MACnB,KAAKC,MAAL,GAAc,IAAd;IACH;;IAED,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,MAAM,CAACO,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;MACpC,IAAIE,CAAC,GAAGR,MAAM,CAACM,CAAD,CAAd;MAEA,IAAIG,IAAI,GAAGpB,EAAE,CAACqB,WAAH,CAAe,KAAKjB,SAApB,CAAX;MACAgB,IAAI,CAACE,MAAL,GAAc,IAAd;MAEA,IAAIC,OAAO,GAAGvB,EAAE,CAACuB,OAAH,CAAW,GAAX,CAAd;MACA,IAAIC,MAAM,GAAGxB,EAAE,CAACyB,QAAH,CAAYV,UAAZ,EAAwBK,IAAxB,CAAb;MACA,IAAIM,MAAM,GAAG1B,EAAE,CAAC2B,QAAH,CAAYJ,OAAZ,EAAqBC,MAArB,CAAb;MAEAJ,IAAI,CAACQ,SAAL,CAAeF,MAAf;MACAN,IAAI,CAACS,CAAL,GAASV,CAAC,CAACU,CAAX;MACAT,IAAI,CAACU,CAAL,GAASX,CAAC,CAACW,CAAX;MAEAV,IAAI,CAACJ,MAAL,GAAcJ,KAAd;IACH;EACJ,CAnCI,CAqCL;EACA;EAEA;;AAxCK,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pointTemp: {\n            type: cc.Node,\n            default: null\n        }\n    },\n\n    onPreSolve: function (contact) {\n        let worldManifold = contact.getWorldManifold();\n        let points = worldManifold.points;\n        let scene = cc.director.getScene();\n\n        function removeSelf () {\n            this.parent = null;\n        }\n\n        for (let i = 0; i < points.length; i++) {\n            let p = points[i];\n            \n            let node = cc.instantiate(this.pointTemp);\n            node.active = true;\n\n            let fadeOut = cc.fadeOut(0.2);\n            let remove = cc.callFunc(removeSelf, node);\n            let action = cc.sequence(fadeOut, remove);\n\n            node.runAction(action);\n            node.x = p.x;\n            node.y = p.y;\n\n            node.parent = scene;\n        }\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n        \n    // },\n});\n"]}